const projects = [
  {
    title: "Audio Board",
    description: `Diagnosed and repaired a shorted component on an audio board that caused a PCB trace to burn out.
Isolated the faulty connection, removed the damaged component, and manually reconstructed the blown trace to restore full board functionality.`,
    images: [
      "port/2018_12_20/20181220_154857.jpg",
      "port/2018_12_20/20181220_154902.jpg",
      "port/2018_12_20/20181220_161441.jpg",
      "port/2018_12_20/20181220_161441.jpg",
      "port/2018_12_20/20181220_161441.jpg"
    ]
  },
    {
    title: "Audio Board",
    description: `Diagnosed and repaired a shorted component on an audio board that caused a PCB trace to burn out.
Isolated the faulty connection, removed the damaged component, and manually reconstructed the blown trace to restore full board functionality.`,
    images: [
      "port/2018_12_20/20181220_154857.jpg",
      "port/2018_12_20/20181220_154902.jpg",
      "port/2018_12_20/20181220_161441.jpg",
      "port/2018_12_20/20181220_161441.jpg",
      "port/2018_12_20/20181220_161441.jpg"
    ]
  },
  {
    title: "Electric Fan",
    description: `Repaired a malfunctioning electric fan by diagnosing and fixing the control board button.
Cleaned and degreased internal fan components.`,
    images: [
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg"
    ]
  },
  {
    title: "Fan Repair",
    description: `Diagnosed and repaired various issues in household fans including motor faults and wiring problems. Restored full functionality ensuring quiet and efficient operation.`,
    images: [
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg"
    ]
  },
  {
    title: "Countertop Ice Maker Repair",
    description: `Troubleshot and fixed mechanical and electrical faults in countertop ice makers to restore proper ice production and machine reliability.`,
    images: [
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg"
    ]
  },
  {
    title: "Speaker Repair",
    description: `Repaired speakers by replacing damaged drivers and rewiring connections to bring back rich, clear sound quality.`,
    images: [
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg"
    ]
  },
  {
    title: "Amplifier Repair",
    description: `Fixed audio amplifiers by diagnosing circuit faults, replacing blown components, and testing output to ensure crisp amplification.`,
    images: [
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg"
    ]
  },
  {
    title: "Car Audio Systems Repair",
    description: `Serviced car audio systems by troubleshooting wiring, repairing head units, and replacing faulty components for seamless in-car audio.`,
    images: [
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg"
    ]
  },
  {
    title: "Entertainment System Repair",
    description: `Repaired home entertainment systems by diagnosing board-level issues and restoring audio/video output functionality.`,
    images: [
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg"
    ]
  },
  {
    title: "3D Printer Control Board Repair",
    description: `Diagnosed and fixed faults in 3D printer control boards including replacing damaged chips and repairing solder joints.`,
    images: [
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg"
    ]
  },
  {
    title: "3D Printer Stepper Driver Repair",
    description: `Repaired and replaced stepper motor drivers ensuring smooth and accurate motion during 3D printing operations.`,
    images: [
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg"
    ]
  },
  {
    title: "3D Printer Wiring Repair",
    description: `Inspected and repaired wiring harnesses for 3D printers to prevent shorts and maintain reliable connections.`,
    images: [
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg"
    ]
  },
  {
    title: "TV & Monitor Repair",
    description: `Performed backlight replacements, capacitor swaps, and board troubleshooting to restore visual display and performance.`,
    images: [
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg"
    ]
  },
  {
    title: "Power Supply Repair",
    description: `Repaired chargers, adapters, and LED drivers by diagnosing faults and replacing damaged components for stable power output.`,
    images: [
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg"
    ]
  },
  {
    title: "LED Lighting Projects",
    description: `Created custom LED strips, signboards, and decorative lighting solutions tailored to client specifications.`,
    images: [
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg"
    ]
  },
  {
    title: "Custom Control Boards",
    description: `Designed and programmed Arduino/ESP32-based controllers involving bitbanging techniques and datasheet interpretation to code.`,
    images: [
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg"
    ]
  },
  {
    title: "Upgrading Old Audio Gear",
    description: `Upgraded vintage audio equipment by replacing capacitors, cleaning, and adjusting tube gear for improved performance and longevity.`,
    images: [
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg",
      "images/cat_paws.jpg"
    ]
  }
];

const swiperInstances = [];
const projectsContainer = document.getElementById("projects");

function initSwipers() {
  // Destroy old swipers
  swiperInstances.forEach(swiper => swiper.destroy(true, true));
  swiperInstances.length = 0;

  // Clear HTML
  projectsContainer.innerHTML = "";

  // Build HTML
  projects.forEach((project, index) => {
    const imagesHTML = project.images.map(img => `
      <div class="swiper-slide">
        <img src="${img}" alt="${project.title}" 
          class="w-full h-48 sm:h-56 md:h-64 object-cover rounded-md" />
      </div>
    `).join("");

    projectsContainer.innerHTML += `
      <h3 class="text-2xl font-bold mt-8 mb-4 text-left">${project.title}</h3>
      <p>${project.description}</p>
      <div class="swiper project-swiper-${index} w-full mt-6">
        <div class="swiper-wrapper">${imagesHTML}</div>
        <div class="swiper-pagination mt-4"></div>
      </div>
    `;
  });

  // Init new swipers
  projects.forEach((_, index) => {
    const swiper = new Swiper(`.project-swiper-${index}`, {
      loop: false,
      pagination: {
        el: `.project-swiper-${index} .swiper-pagination`,
        clickable: true,
      },
      grid: { rows: 1, fill: 'row' },
      spaceBetween: 15,
      observer: true,
      observeParents: true,
      breakpoints: {
        0: { slidesPerView: 1 },
        1024: { slidesPerView: 5 },
      }
    });
    swiperInstances.push(swiper);
  });
}

// Init once
initSwipers();

// Re-init on resize
window.addEventListener("resize", initSwipers);
